–ß—Ç–æ —Ç–∞–∫–æ–µ instanceof –≤ Java? –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?

–í Java –æ–ø–µ—Ä–∞—Ç–æ—Ä `instanceof` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è
–ø—Ä–æ–≤–µ—Ä–∫–∏, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–±—ä–µ–∫—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º
–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏–ª–∏ –µ–≥–æ –ø–æ–¥–∫–ª–∞—Å—Å–∞.

üîπ **–°–∏–Ω—Ç–∞–∫—Å–∏—Å**:

object instanceof ClassName

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ `object` —è–≤–ª—è–µ—Ç—Å—è
—ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º `ClassName` –∏–ª–∏ –µ–≥–æ –ø–æ–¥–∫–ª–∞—Å—Å–∞, –∏–Ω–∞—á–µ `false`.

üîπ **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**:

‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –ø–µ—Ä–µ–¥ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ–º (Type Casting)**:

class Animal {}
class Dog extends Animal {}

public class Main {
    public static void main(String[] args) {
        Animal myAnimal = new Dog();

        if (myAnimal instanceof Dog) {
            Dog myDog = (Dog) myAnimal; // –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤
            System.out.println("–≠—Ç–æ —Å–æ–±–∞–∫–∞!");
        }
    }
}

‚úÖ –ë–µ–∑ `instanceof`, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç
–∫–ª–∞—Å—Å—É `Dog`, –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ (`(Dog) myAnimal`) –≤—ã–∑–æ–≤–µ—Ç `ClassCastException`.

‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ `equals()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–∞**:

@Override
public boolean equals(Object obj) {
    if (!(obj instanceof MyClass)) {
        return false;
    }
    MyClass other = (MyClass) obj;
    return this.id == other.id;
}

‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ `obj` —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º `MyClass`,
–ø—Ä–µ–∂–¥–µ —á–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ.

‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ `instanceof`**:

public void processAnimal(Animal animal) {
    if (animal instanceof Dog) {
        System.out.println("–ì–∞–≤-–≥–∞–≤!");
    } else if (animal instanceof Cat) {
        System.out.println("–ú—è—É!");
    }
}

‚ùó –ú–∏–Ω—É—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `instanceof`
1. –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ ‚Äì –ª—É—á—à–µ
   –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —á–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤.
2. –ó–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞ ‚Äì –µ—Å–ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è
   –Ω–æ–≤—ã–µ –ø–æ–¥–∫–ª–∞—Å—Å—ã, –ø—Ä–∏–¥–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª—è—Ç—å `instanceof` –ø—Ä–æ–≤–µ—Ä–∫–∏.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `instanceof` —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏,
–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –±–µ–∑ –Ω–µ–≥–æ –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –æ—à–∏–±–∫–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤. üöÄ

–ó–∞–≥–ª—è–Ω–∏—Ç–µ –≤ —Ç–µ—Å—Ç—ã, —Ç–∞–º –Ω–∞–≥–ª—è–¥–Ω–æ –ø–æ–∫–∞–∑–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ instanceof!

–ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —ç—Ç–∏ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–ª–∞—Å—Å–∞ Car.
–ü—Ä–∞–∫—Ç–∏–∫–∞ —ç—Ç–æ —Å–∞–º–æ–µ –ª—É—á—à–µ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
–Ω–æ–≤—ã—Ö –∏–¥–µ–π –∏ –ø–æ–Ω—è—Ç–∏–π.

#### –ü–æ–¥–¥–µ—Ä–∂–∫–∞, –≤–æ–ø—Ä–æ—Å—ã –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ –ø—Ä–æ–µ–∫—Ç—É
* [–¢–µ–ª–µ–≥—Ä–∞–º–º –≥—Ä—É–ø–ø–∞ –ø—Ä–æ–µ–∫—Ç–∞](https://t.me/+mvRhG9YECTlkZjQ0)
* [–¢–µ–ª–µ–≥—Ä–∞–º–º –∞–≤—Ç–æ—Ä–∞ –∫—É—Ä—Å–∞] (@javagurulv)
* [–ï–º–µ–π–ª –∞–≤—Ç–æ—Ä–∞ –∫—É—Ä—Å–∞] (itguruby@mail.ru)